!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);const o={};function a(e){return`\n        <hr>\n        <div class="news-content-block-not-flex" data-id="${e.id}">\n            <div class="news-content-block-flex">\n                <div class="news-content-block-flex-time">\n                    ${new Date(e.publishedAt).toLocaleTimeString().replace(/:\d\d$/g,"")}<br>\n                </div>\n                <div class="news-content-block-flex-main-body">\n                    ${e.title}\n                </div>\n            </div>\n        </div>\n    `}o.modal=function(e){const t=function(e){const t=document.createElement("div");return t.classList.add("vmodal"),t.insertAdjacentHTML("afterbegin",`\n        <div class="modal-overlay">\n\n            <div class="modal-window">\n                <div class="modal-window-header">\n                    <h2>${e.title}</h2>\n                    ${e.closable?'<p id="close-btn" data-close="true">&times;</p>':""}\n                </div>\n                <div class="modal-window-body" data-content>\n                    ${e.content||""}\n                </div>                \n            </div>\n        </div>\n    `),document.body.append(t),t}(e);let n=!1;!0===n&&o.close();const o={open(){t.classList.add("open"),n=!0},close(){t.classList.remove("open"),t.classList.add("hide")}},a=e=>{e.target.dataset.close&&(o.close(),setTimeout(()=>{o.destroy()},400))};return t.addEventListener("click",a),Object.assign(o,{destroy(){t.parentNode.removeChild(t),t.removeEventListener("click",a)},setContent(e){t.querySelector("[data-content]").innerHTML=e}})},window.addEventListener("load",v);const r=document.getElementById("country-input"),c=document.getElementById("category-input"),d=document.getElementsByClassName("language_menu")[0],s=document.getElementsByClassName("category_menu")[0];function l(e){d.classList.add("menu_choose_active"),d.parentNode.style.zIndex=20,e.target.textContent&&(r.value=e.target.textContent+" "+`(${e.target.id})`,u())}function i(e){s.classList.add("menu_choose_active"),s.parentNode.style.zIndex=20,e.target.textContent&&(c.value=e.target.textContent,m())}function u(){d.classList.remove("menu_choose_active"),d.parentNode.style.zIndex=-20}function m(){s.classList.remove("menu_choose_active"),s.parentNode.style.zIndex=-20}r.addEventListener("mouseover",l),c.addEventListener("mouseover",i),d.addEventListener("click",l),s.addEventListener("click",i),d.addEventListener("mouseleave",u),s.addEventListener("mouseleave",m),document.addEventListener("click",u),document.addEventListener("click",m);const p=document.getElementById("submit-btn");function v(){event.preventDefault(),p.disabled=!0;document.getElementById("news-content-block")&&document.body.removeChild(document.getElementById("news-content-block")),function(e){const t=document.createElement("div");t.setAttribute("id","news-content-block"),document.body.append(t),document.getElementById("key_word-input").value&&(e.keyWord=`q=${document.getElementById("key_word-input").value.replace(/\s+.+/g,"")}&`);try{document.getElementById("country-input").value&&(e.country=`country=${document.getElementById("country-input").value.match(/\(([a-z]{2})\)$/)[1]}&`)}catch(e){let t={title:"Ooppss...",content:'<div class="error_text">\n                <p class="error_text_par">Try to write country properly</p>\n                <p class="error_text_par"><b>Format:</b> Country (country code) <b>or</b> (country code)</p>\n                <p class="error_text_par"><b>For example:</b> Ukraine (ua) <b>or</b> (ua)</p></div>',closable:!0};o.modal(t).open()}return document.getElementById("category-input").value&&(e.category=`category=${document.getElementById("category-input").value}&`),fetch("https://cors-anywhere.herokuapp.com/"+`https://newsapi.org/v2/top-headlines?${e.country}${e.keyWord}${e.category}apiKey=81c722ace915430da7076695afd718f0`).then(e=>e.json()).then(e=>{if(0==e.totalResults){let e={title:"Ooppss...",content:'<div class="error_text">\n                        <p class="error_text_par">Can not find any results</p>',closable:!0};o.modal(e).open()}let n=0;e.articles.map(e=>{e.id=n++}),t.innerHTML=e.articles.map(a).join("");for(let e=1;e<t.children.length;e+=4)t.children[e].classList.toggle("block-grey-bg");return e.articles})}({keyWord:"",country:"country=ua&",category:""}).then(e=>{p.disabled=!1,document.getElementById("news-content-block").addEventListener("click",t=>{let n=t.target;e.map(e=>{if(e.id==function e(t){return t.hasAttribute("data-id")?+t.getAttribute("data-id"):e(t.parentNode)}(n)){console.log(e);const t={title:"News PROvider",content:`\n                            <div class="modal-news-img-and-title">\n                                <h2 class="modal-news-title">${e.title||""}</h2>\n                                <img class="modal-news-img" src="${e.urlToImage}" alt="Oops...">\n                            </div>\n                            <div class="modal-news-main-body">\n                                <p class="modal-news-description">${e.description||""}</p>\n                                <div class="modal-news-link">Read this article on\n                                    <a class="modal-news-link-target" href="${e.url}" target="_blank">${e.source.name}</a>\n                                </div>\n                            </div>`,closable:!0};o.modal(t).open()}})})})}p.addEventListener("click",v)}]);